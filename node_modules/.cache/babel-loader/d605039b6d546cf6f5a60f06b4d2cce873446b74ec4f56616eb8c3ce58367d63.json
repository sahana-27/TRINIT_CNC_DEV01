{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sahan\\\\OneDrive\\\\Documents\\\\sahana\\\\TriNit\\\\trinit\\\\src\\\\screens\\\\common\\\\LoginPage\\\\LoginPage.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport { Navigate } from 'react-router-dom';\nimport './LoginPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [userType, setUserType] = useState('');\n  const handleSelect = e => {\n    setUserType(e.target.value);\n    console.log(userType);\n  };\n  const userInfo = localStorage.getItem(\"userInfo\");\n  if (userInfo) {\n    if (userType === 'NGO') return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/DashboardNGO\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 16\n    }, this);else if (userType === 'Philanthropist') return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/DashboardPhil\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 16\n    }, this);\n  }\n  const submitHandler = async e => {\n    e.preventDefault();\n    try {\n      const config = {\n        headers: {\n          \"Content-type\": \"application/json\"\n        }\n      };\n      let url;\n      if (userType === 'NGO') {\n        url = 'http://localhost:8180/ngos/login';\n      } else if (userType === 'Philanthropist') url = 'http://localhost:8180/philanthropists/login';\n      const {\n        data\n      } = await axios.post(`${url}`, {\n        email,\n        password\n      }, config);\n      console.log(data);\n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\n      localStorage.setItem(\"userType\", JSON.stringify(userType));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"formbg\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"LOGIN\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"email\",\n            placeholder: \"Enter email\",\n            value: email,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formBasicPassword\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            placeholder: \"Password\",\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n          onChange: handleSelect,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Select user type:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"NGO\",\n            children: \"NGO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Philanthropist\",\n            children: \"Philanthropist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 8\n  }, this);\n};\n_s(LoginPage, \"RWca7D8DwGqrw4Hw1mTU0Altw/E=\");\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useState","Form","Button","axios","Navigate","LoginPage","email","setEmail","password","setPassword","userType","setUserType","handleSelect","e","target","value","console","log","userInfo","localStorage","getItem","submitHandler","preventDefault","config","headers","url","data","post","setItem","JSON","stringify","error"],"sources":["C:/Users/sahan/OneDrive/Documents/sahana/TriNit/trinit/src/screens/common/LoginPage/LoginPage.js"],"sourcesContent":["import React from 'react';\r\nimport { useState } from 'react';\r\nimport { Form,Button} from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport { Navigate } from 'react-router-dom';\r\nimport './LoginPage.css'\r\n\r\nconst LoginPage = () => {\r\n    const [email,setEmail] = useState('');\r\n    const [password,setPassword] = useState('');\r\n    const [userType,setUserType] = useState('');\r\n\r\n    const handleSelect=(e)=>{\r\n        setUserType(e.target.value);\r\n        console.log(userType);\r\n    }\r\n\r\n    const userInfo = localStorage.getItem(\"userInfo\");\r\n    if(userInfo){\r\n        if(userType==='NGO')\r\n        return <Navigate to='/DashboardNGO'/>\r\n        else if(userType==='Philanthropist')\r\n        return <Navigate to='/DashboardPhil'/>\r\n    }\r\n\r\n    const submitHandler = async(e) =>{\r\n        e.preventDefault();\r\n        try{\r\n            const config={\r\n                headers:{\r\n                    \"Content-type\":\"application/json\"\r\n                }\r\n            };\r\n\r\n            let url\r\n            if(userType==='NGO'){\r\n                url='http://localhost:8180/ngos/login'\r\n            }\r\n            else if(userType==='Philanthropist')\r\n            url='http://localhost:8180/philanthropists/login'\r\n\r\n            const{data}=await axios.post(\r\n                `${url}`,\r\n                {\r\n                    email,\r\n                    password\r\n                },config\r\n            );\r\n            console.log(data);\r\n            localStorage.setItem(\"userInfo\",JSON.stringify(data));\r\n            localStorage.setItem(\"userType\",JSON.stringify(userType));\r\n        }catch(error){\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    return (\r\n       <div className = \"formbg\">\r\n        <div className=\"form\">\r\n        <h2>LOGIN</h2>\r\n        <br />\r\n            <Form onSubmit={submitHandler}>\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n                    <Form.Label>Email address</Form.Label>\r\n                    <Form.Control \r\n                        type=\"email\" \r\n                        placeholder=\"Enter email\" \r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                    />\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control \r\n                        type=\"password\" \r\n                        placeholder=\"Password\" \r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                    />\r\n                </Form.Group>\r\n                <Form.Select onChange={handleSelect}>\r\n                    <option>Select user type:</option>\r\n                    <option value=\"NGO\">NGO</option>\r\n                    <option value=\"Philanthropist\">Philanthropist</option>\r\n                </Form.Select>\r\n                <br/>\r\n                <Button variant=\"primary\" type=\"submit\">\r\n                    Submit\r\n                </Button>\r\n            </Form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}